<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>zenshiatsu.me</title>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
        <style>
        @import url(http://fonts.googleapis.com/css?family=Raleway:100,300);

        #title {
          font-family: 'Raleway', sans-serif;
  
          position: fixed;
          top: 10px;
          left: 10px;
          font-size: 20px;
          letter-spacing: 0.1em;
          z-index: 100;
          margin: 0;
          padding: 0;
          font-weight: 300;
        }

        body {
          color: #fff;
          text-align: center;
          height: 100vh;
          width: 100vw;
          margin: 0;
          padding: 0;
        }

        .container {
          display: flex;
          justify-content: center;
          align-items: center;
        }

        #top {
            height: 25%;
        }

        #bottom {
            height: 25%;
        }

        #waves {
            width: 300px;
            height: 300px;
            background: url('ui/zenshiatsu-enso.png');
        }

        /* Smartphones ----------- */
        @media only screen and (max-width: 760px) {
            #mobile-checker { display: none; }
        }


        </style>
    </head>

    <body>
        <div id="mobile-checker">mobile checker</div>
        <h1 id="title">zenshiatsu</h1>

        <div id="top"></div>

        <div class="container">
          <div class="box">
            <canvas id="waves"></canvas>
          </div>
        </div>

        <div id="bottom"></div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
        <script src="ui/sine-waves.min.js"></script>

        <script>

var isMobile = {
    Android: function() {
        return navigator.userAgent.match(/Android/i);
    },
    BlackBerry: function() {
        return navigator.userAgent.match(/BlackBerry/i);
    },
    iOS: function() {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i);
    },
    Opera: function() {
        return navigator.userAgent.match(/Opera Mini/i);
    },
    Windows: function() {
        return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);
    },
    any: function() {
        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
    },
    mac: function IsSafari() {
        var is_safari = navigator.userAgent.toLowerCase().indexOf('safari/') > -1;
        return is_safari;
        },
};

// if( isMobile.mac() ) alert('mac');

if( isMobile.any() )  {
  var zzz = '100%';
} else {
  var zzz = '200%';
};




        $(function(){

          // alert(zzz);

          console.debug('MAIN function')

            var waves = new SineWaves({
              el: document.getElementById('waves'),

              speed: 2,

              width: function() {
                //return $(window).width();
                return 300;
              },

              height: function() {
                //return $(window).height();
                return 600;
              },

              // wavesWidth: '200%',

              wavesWidth: function() {

                  return '200%';
                  alert('mac')

                //return 600;
              },

              
              
              // alert('mac')
              wavesWidth: zzz,
              // wavesWidth: '200%',

              // console.debug('wavesWidth'),

  


              

              ease: 'SineInOut',


      waves: [
        {
          timeModifier: 1.5,
          lineWidth: 1,
          amplitude: -65,
          wavelength: 120,
          segmentLength: 1,
        },
        {
          timeModifier: 1.2,
          lineWidth: 1,
          amplitude: 85,
          wavelength: 170,
          segmentLength: 1,
        },
        {
          timeModifier: 1,
          lineWidth: 1,
          amplitude: 100,
          wavelength: 140,
          segmentLength: 2,
        },
        {
          timeModifier: 1,
          lineWidth: 1,
          amplitude: -90,
          wavelength: 180,
          segmentLength: 1,
        },
        {
          timeModifier: 0.8,
          lineWidth: 1,
          amplitude: 90,
          wavelength: 220,
          segmentLength: 1,
        }
      ],
              /*
              waves: [
                {
                  timeModifier: 1,
                  lineWidth: 1,
                  amplitude: 150,
                  wavelength: 200,
                  segmentLength: 20,
            //       strokeStyle: 'rgba(255, 255, 255, 0.5)'
                },
                {
                  timeModifier: 1,
                  lineWidth: 1,
                  amplitude: 120,
                  wavelength: 90,
            //       strokeStyle: 'rgba(255, 255, 255, 0.3)'
                },
                {
                  timeModifier: 1,
                  lineWidth: 1,
                  amplitude: -150,
                  wavelength: 50,
                  segmentLength: 10,
            //       strokeStyle: 'rgba(255, 255, 255, 0.2)'
                },
                {
                  timeModifier: 1,
                  lineWidth: 1,
                  amplitude: -100,
                  wavelength: 100,
                  segmentLength: 10,
            //       strokeStyle: 'rgba(255, 255, 255, 0.1)'
                },
                {
                  timeModifier: 1,
                  lineWidth: 1,
                  amplitude: -60,
                  wavelength: 80,
                  segmentLength: 10,
            //       strokeStyle: 'rgba(255, 255, 255, 0.1)'
                }
              ],
*/
              initialize: function (){

                console.debug('initialize')

              },

              resizeEvent: function() {

                console.debug('resizeEvent')

                var index = -1;
                var length = this.waves.length;
                  while(++index < length){
                  this.waves[index].strokeStyle = 'rgba(255, 255, 255, 1)';
                }

                // Clean Up
                index = void 0;
                length = void 0;

              }
            });
        });
        </script>
    </body>
</html>
